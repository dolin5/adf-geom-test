(this["webpackJsonpadf-geom-test"]=this["webpackJsonpadf-geom-test"]||[]).push([[46],{384:function(e,t,n){},385:function(e,t,n){},387:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=387},389:function(e,t,n){"use strict";n.r(t);var r=n(175),o=n.n(r),c=n(374),a=n.n(c),i=(n(384),n(385),n(22)),s=n(375),u=n(297),l=n(190),f=n(41),d=n(73),m=n(183),p=function(){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(e.current){var t=new u.a({basemap:"streets-vector"});new s.a({container:e.current,map:t,zoom:3,center:[-100,39]});new l.default({url:"https://gis-test.arborday.org/server/rest/services/Planting_Project_Location___Polygon/MapServer/0"}).queryFeatures({where:"1=1",outFields:["*"],returnGeometry:!0}).then((function(e){var n={},r=e.features.map((function(e){return new d.a({attributes:e.attributes,geometry:e.geometry.centroid})}));r.forEach((function(e){n[e.attributes.PlantingProjectID]=n[e.attributes.PlantingProjectID]||[],n[e.attributes.PlantingProjectID].push(e)}));var o=[];Object.entries(n).forEach((function(e,t){var n=Object(i.a)(e,2),r=n[0],c=n[1],a=new d.a({attributes:{PlantingProjectID:r,OBJECTID:t}}),s=c.reduce((function(e,t){return e+t.geometry.x}),0)/c.length,u=c.reduce((function(e,t){return e+t.geometry.y}),0)/c.length,l=c[0].geometry.spatialReference;a.geometry=new f.a({spatialReference:l,x:s,y:u}),o.push(a)}));var c={type:"simple",symbol:{type:"simple-marker",size:8,outline:{style:"none",width:0},color:[0,196,0,1]}},a=new l.default({source:o,objectIdField:"OBJECTID",renderer:c,maxScale:5e6}),s=new l.default({source:r,objectIdField:"OBJECTID",renderer:c,minScale:4999999,maxScale:1e5}),u=new l.default({source:e.features,objectIdField:"OBJECTID",renderer:{type:"simple",symbol:{type:"simple-fill",outline:{color:[0,196,0,1]},color:[0,196,0,.25]}},minScale:99999});t.addMany([a,s,u])}))}}),[]),Object(m.jsx)("div",{className:"mapDiv",ref:e})};var b=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(p,{})})},g=function(e){e&&e instanceof Function&&n.e(256).then(n.bind(null,835)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),c(e),a(e)}))};a.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(b,{})}),document.getElementById("root")),g()}},[[389,47,48]]]);
//# sourceMappingURL=main.1b2b50ab.chunk.js.map