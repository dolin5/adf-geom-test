(this["webpackJsonpadf-geom-test"]=this["webpackJsonpadf-geom-test"]||[]).push([[46],{384:function(e,t,r){},385:function(e,t,r){},387:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=387},389:function(e,t,r){"use strict";r.r(t);var n=r(175),o=r.n(n),a=r(374),c=r.n(a),i=(r(384),r(385),r(22)),s=r(375),u=r(297),l=r(190),f=r(41),d=r(73),m=r(183),b=function(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(e.current){var t=new u.a({basemap:"streets-vector"});new s.a({container:e.current,map:t,zoom:3,center:[-100,39]});new l.default({url:"https://gis-test.arborday.org/server/rest/services/CP_Showcase_MVP_Data_Polygon/FeatureServer/0"}).queryFeatures({where:"1=1",outFields:["*"],returnGeometry:!0}).then((function(e){var r={},n=e.features.map((function(e){return new d.a({attributes:e.attributes,geometry:e.geometry.centroid})}));n.forEach((function(e){r[e.attributes.PlantingProjectID]=r[e.attributes.PlantingProjectID]||[],r[e.attributes.PlantingProjectID].push(e)}));var o=[];Object.entries(r).forEach((function(e,t){var r=Object(i.a)(e,2),n=r[0],a=r[1],c=new d.a({attributes:{PlantingProjectID:n,OBJECTID:t}}),s=a.reduce((function(e,t){return e+t.geometry.x}),0)/a.length,u=a.reduce((function(e,t){return e+t.geometry.y}),0)/a.length,l=a[0].geometry.spatialReference;c.geometry=new f.a({spatialReference:l,x:s,y:u}),o.push(c)}));var a={type:"simple",symbol:{type:"simple-marker",size:8,outline:{style:"none",width:0},color:[0,196,0,1]}},c=new l.default({source:o,objectIdField:"OBJECTID",renderer:a,maxScale:5e6}),s=new l.default({source:n,objectIdField:"OBJECTID",renderer:a,minScale:4999999,maxScale:1e5}),u=new l.default({source:e.features,objectIdField:"OBJECTID",renderer:{type:"simple",symbol:{type:"simple-fill",outline:{color:[0,196,0,1]},color:[0,196,0,.25]}},minScale:99999});t.addMany([c,s,u])}))}}),[]),Object(m.jsx)("div",{className:"mapDiv",ref:e})};var p=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(b,{})})},g=function(e){e&&e instanceof Function&&r.e(256).then(r.bind(null,835)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),o(e),a(e),c(e)}))};c.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(p,{})}),document.getElementById("root")),g()}},[[389,47,48]]]);
//# sourceMappingURL=main.4eca7a2f.chunk.js.map